"use strict";(globalThis.webpackChunkbrain=globalThis.webpackChunkbrain||[]).push([[8748],{8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var i=t(6540);const r={},s=i.createContext(r);function a(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:n},e.children)}},8508:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"playbooks/test-driven-design/java/junit-mockito-cheatsheet","title":"JUnit Mockito Templates & Cheatsheet","description":"Quick Reference","source":"@site/docs/playbooks/test-driven-design/java/junit-mockito-cheatsheet.md","sourceDirName":"playbooks/test-driven-design/java","slug":"/playbooks/test-driven-design/java/junit-mockito-cheatsheet","permalink":"/playbooks/test-driven-design/java/junit-mockito-cheatsheet","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"JUnit Mockito Templates & Cheatsheet"},"sidebar":"playbooks","previous":{"title":"JUnit 5 Templates & Cheatsheet","permalink":"/playbooks/test-driven-design/java/junit-cheatsheet"},"next":{"title":"Java Logging Cheatsheet","permalink":"/playbooks/test-driven-design/java/logging"}}');var r=t(4848),s=t(8453);const a={title:"JUnit Mockito Templates & Cheatsheet"},o="JUnit Mockito Templates & Cheatsheet",c={},l=[{value:"Quick Reference",id:"quick-reference",level:2},{value:"Common Imports",id:"common-imports",level:3},{value:"Plug-and-Play Templates",id:"plug-and-play-templates",level:2},{value:"Basic Mock Template",id:"basic-mock-template",level:3},{value:"Mock with Argument Matchers",id:"mock-with-argument-matchers",level:3},{value:"Mock Exception Throwing",id:"mock-exception-throwing",level:3},{value:"Mock Void Methods",id:"mock-void-methods",level:3},{value:"Mock with Multiple Calls",id:"mock-with-multiple-calls",level:3},{value:"Spy Template (Partial Mocking)",id:"spy-template-partial-mocking",level:3},{value:"Verify Interactions Template",id:"verify-interactions-template",level:3},{value:"Argument Captor Template",id:"argument-captor-template",level:3},{value:"Common Mockito Methods",id:"common-mockito-methods",level:2},{value:"Stubbing (When-Then)",id:"stubbing-when-then",level:3},{value:"Void Methods (Do-When)",id:"void-methods-do-when",level:3},{value:"Verification",id:"verification",level:3},{value:"Argument Matchers",id:"argument-matchers",level:3},{value:"Steps to Run Tests",id:"steps-to-run-tests",level:2},{value:"Command Line (Maven)",id:"command-line-maven",level:3},{value:"Command Line (Gradle)",id:"command-line-gradle",level:3},{value:"IDE (IntelliJ IDEA)",id:"ide-intellij-idea",level:3},{value:"IDE (Eclipse)",id:"ide-eclipse",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Useful Links",id:"useful-links",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"junit-mockito-templates--cheatsheet",children:"JUnit Mockito Templates & Cheatsheet"})}),"\n",(0,r.jsx)(n.h2,{id:"quick-reference",children:"Quick Reference"}),"\n",(0,r.jsx)(n.h3,{id:"common-imports",children:"Common Imports"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"import org.mockito.Mock;\nimport org.mockito.InjectMocks;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport static org.mockito.Mockito.*;\nimport static org.mockito.ArgumentMatchers.*;\nimport static org.junit.jupiter.api.Assertions.*;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"plug-and-play-templates",children:"Plug-and-Play Templates"}),"\n",(0,r.jsx)(n.h3,{id:"basic-mock-template",children:"Basic Mock Template"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport static org.mockito.Mockito.*;\nimport static org.junit.jupiter.api.Assertions.*;\n\n@ExtendWith(MockitoExtension.class)\nclass UserServiceTest {\n    \n    @Mock\n    private UserRepository userRepository;\n    \n    @InjectMocks\n    private UserService userService;\n    \n    @Test\n    void findUser_ValidId_ReturnsUser() {\n        // Arrange\n        User expectedUser = new User(1L, "John");\n        when(userRepository.findById(1L)).thenReturn(expectedUser);\n        \n        // Act\n        User result = userService.findUser(1L);\n        \n        // Assert\n        assertEquals(expectedUser, result);\n        verify(userRepository).findById(1L);\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"mock-with-argument-matchers",children:"Mock with Argument Matchers"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@ExtendWith(MockitoExtension.class)\nclass PaymentServiceTest {\n    \n    @Mock\n    private PaymentGateway paymentGateway;\n    \n    @InjectMocks\n    private PaymentService paymentService;\n    \n    @Test\n    void processPayment_AnyAmount_ReturnsSuccess() {\n        // Arrange\n        when(paymentGateway.process(any(BigDecimal.class))).thenReturn(true);\n        \n        // Act\n        boolean result = paymentService.processPayment(new BigDecimal("100.00"));\n        \n        // Assert\n        assertTrue(result);\n        verify(paymentGateway).process(any(BigDecimal.class));\n    }\n    \n    @Test\n    void processPayment_SpecificAmount_ReturnsSuccess() {\n        // Arrange\n        when(paymentGateway.process(eq(new BigDecimal("100.00")))).thenReturn(true);\n        \n        // Act\n        boolean result = paymentService.processPayment(new BigDecimal("100.00"));\n        \n        // Assert\n        assertTrue(result);\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"mock-exception-throwing",children:"Mock Exception Throwing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@ExtendWith(MockitoExtension.class)\nclass DataServiceTest {\n    \n    @Mock\n    private DatabaseConnection dbConnection;\n    \n    @InjectMocks\n    private DataService dataService;\n    \n    @Test\n    void saveData_ConnectionFails_ThrowsException() {\n        // Arrange\n        when(dbConnection.save(any())).thenThrow(new SQLException("Connection failed"));\n        \n        // Act & Assert\n        assertThrows(SQLException.class, () -> {\n            dataService.saveData(new Data());\n        });\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"mock-void-methods",children:"Mock Void Methods"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@ExtendWith(MockitoExtension.class)\nclass NotificationServiceTest {\n    \n    @Mock\n    private EmailService emailService;\n    \n    @InjectMocks\n    private NotificationService notificationService;\n    \n    @Test\n    void sendNotification_ValidEmail_SendsEmail() {\n        // Arrange\n        doNothing().when(emailService).send(anyString());\n        \n        // Act\n        notificationService.sendNotification("user@example.com", "Hello");\n        \n        // Assert\n        verify(emailService).send("user@example.com");\n    }\n    \n    @Test\n    void sendNotification_EmailFails_ThrowsException() {\n        // Arrange\n        doThrow(new RuntimeException("Email service unavailable"))\n            .when(emailService).send(anyString());\n        \n        // Act & Assert\n        assertThrows(RuntimeException.class, () -> {\n            notificationService.sendNotification("user@example.com", "Hello");\n        });\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"mock-with-multiple-calls",children:"Mock with Multiple Calls"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@ExtendWith(MockitoExtension.class)\nclass CacheServiceTest {\n    \n    @Mock\n    private Cache cache;\n    \n    @InjectMocks\n    private CacheService cacheService;\n    \n    @Test\n    void getValue_FirstCallMiss_SecondCallHit() {\n        // Arrange\n        when(cache.get("key"))\n            .thenReturn(null)  // First call\n            .thenReturn("value"); // Second call\n        \n        // Act\n        String first = cacheService.getValue("key");\n        String second = cacheService.getValue("key");\n        \n        // Assert\n        assertNull(first);\n        assertEquals("value", second);\n        verify(cache, times(2)).get("key");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"spy-template-partial-mocking",children:"Spy Template (Partial Mocking)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"import org.mockito.Spy;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.junit.jupiter.api.extension.ExtendWith;\n\n@ExtendWith(MockitoExtension.class)\nclass OrderServiceTest {\n    \n    @Spy\n    private OrderValidator orderValidator;\n    \n    @InjectMocks\n    private OrderService orderService;\n    \n    @Test\n    void processOrder_ValidOrder_ProcessesSuccessfully() {\n        // Arrange\n        Order order = new Order();\n        doReturn(true).when(orderValidator).validate(order);\n        \n        // Act\n        orderService.processOrder(order);\n        \n        // Assert\n        verify(orderValidator).validate(order);\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"verify-interactions-template",children:"Verify Interactions Template"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@ExtendWith(MockitoExtension.class)\nclass ShoppingCartTest {\n    \n    @Mock\n    private InventoryService inventoryService;\n    \n    @Mock\n    private PaymentService paymentService;\n    \n    @InjectMocks\n    private ShoppingCart shoppingCart;\n    \n    @Test\n    void checkout_ValidCart_ProcessesCorrectly() {\n        // Arrange\n        when(inventoryService.isAvailable(anyString())).thenReturn(true);\n        when(paymentService.charge(any())).thenReturn(true);\n        \n        // Act\n        shoppingCart.addItem("item1");\n        shoppingCart.checkout();\n        \n        // Assert\n        verify(inventoryService).isAvailable("item1");\n        verify(paymentService).charge(any());\n        verify(inventoryService, never()).reserve(anyString());\n    }\n    \n    @Test\n    void checkout_InventoryUnavailable_NeverCharges() {\n        // Arrange\n        when(inventoryService.isAvailable(anyString())).thenReturn(false);\n        \n        // Act\n        shoppingCart.addItem("item1");\n        shoppingCart.checkout();\n        \n        // Assert\n        verify(paymentService, never()).charge(any());\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"argument-captor-template",children:"Argument Captor Template"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import org.mockito.ArgumentCaptor;\nimport static org.mockito.ArgumentCaptor.forClass;\n\n@ExtendWith(MockitoExtension.class)\nclass UserServiceTest {\n    \n    @Mock\n    private UserRepository userRepository;\n    \n    @InjectMocks\n    private UserService userService;\n    \n    @Test\n    void createUser_ValidData_SavesWithCorrectData() {\n        // Arrange\n        ArgumentCaptor<User> userCaptor = ArgumentCaptor.forClass(User.class);\n        \n        // Act\n        userService.createUser("John", "john@example.com");\n        \n        // Assert\n        verify(userRepository).save(userCaptor.capture());\n        User savedUser = userCaptor.getValue();\n        assertEquals("John", savedUser.getName());\n        assertEquals("john@example.com", savedUser.getEmail());\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"common-mockito-methods",children:"Common Mockito Methods"}),"\n",(0,r.jsx)(n.h3,{id:"stubbing-when-then",children:"Stubbing (When-Then)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"// Return value\nwhen(mock.method()).thenReturn(value);\nwhen(mock.method(any())).thenReturn(value);\n\n// Throw exception\nwhen(mock.method()).thenThrow(new Exception());\n\n// Multiple returns\nwhen(mock.method())\n    .thenReturn(value1)\n    .thenReturn(value2);\n\n// Call real method\nwhen(mock.method()).thenCallRealMethod();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"void-methods-do-when",children:"Void Methods (Do-When)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"// Do nothing\ndoNothing().when(mock).voidMethod();\n\n// Throw exception\ndoThrow(new Exception()).when(mock).voidMethod();\n\n// Call real method\ndoCallRealMethod().when(mock).voidMethod();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"verification",children:"Verification"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"// Verify method was called\nverify(mock).method();\n\n// Verify with arguments\nverify(mock).method(arg);\n\n// Verify number of calls\nverify(mock, times(2)).method();\nverify(mock, atLeastOnce()).method();\nverify(mock, atMost(3)).method();\nverify(mock, never()).method();\n\n// Verify in order\nInOrder inOrder = inOrder(mock1, mock2);\ninOrder.verify(mock1).method1();\ninOrder.verify(mock2).method2();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"argument-matchers",children:"Argument Matchers"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"// Any value\nany()\nanyString()\nanyInt()\nanyList()\nany(Class.class)\n\n// Specific value\neq(value)\nsame(instance)\n\n// Custom matcher\nargThat(argument -> argument > 10)\n\n// Null\nisNull()\nisNotNull()\n"})}),"\n",(0,r.jsx)(n.h2,{id:"steps-to-run-tests",children:"Steps to Run Tests"}),"\n",(0,r.jsx)(n.h3,{id:"command-line-maven",children:"Command Line (Maven)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Run all tests\nmvn test\n\n# Run specific test class\nmvn test -Dtest=UserServiceTest\n\n# Run specific test method\nmvn test -Dtest=UserServiceTest#findUser_ValidId_ReturnsUser\n"})}),"\n",(0,r.jsx)(n.h3,{id:"command-line-gradle",children:"Command Line (Gradle)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Run all tests\n./gradlew test\n\n# Run specific test class\n./gradlew test --tests UserServiceTest\n\n# Run specific test method\n./gradlew test --tests UserServiceTest.findUser_ValidId_ReturnsUser\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ide-intellij-idea",children:"IDE (IntelliJ IDEA)"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Right-click on test class \u2192 ",(0,r.jsx)(n.strong,{children:"Run 'TestClassName'"})]}),"\n",(0,r.jsx)(n.li,{children:"Click green arrow next to test method"}),"\n",(0,r.jsxs)(n.li,{children:["Use keyboard shortcut: ",(0,r.jsx)(n.code,{children:"Ctrl+Shift+F10"})," (Windows/Linux) or ",(0,r.jsx)(n.code,{children:"Cmd+Shift+R"})," (Mac)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"ide-eclipse",children:"IDE (Eclipse)"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Right-click on test class \u2192 ",(0,r.jsx)(n.strong,{children:"Run As"})," \u2192 ",(0,r.jsx)(n.strong,{children:"JUnit Test"})]}),"\n",(0,r.jsx)(n.li,{children:"Click green play button in toolbar"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"@ExtendWith(MockitoExtension.class)"})," for JUnit 5"]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"@Mock"})," for dependencies"]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"@InjectMocks"})," for class under test"]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"@Spy"})," sparingly (prefer mocks)"]}),"\n",(0,r.jsx)(n.li,{children:"Verify interactions when behavior matters"}),"\n",(0,r.jsx)(n.li,{children:"Use argument matchers for flexibility"}),"\n",(0,r.jsxs)(n.li,{children:["Keep test setup in ",(0,r.jsx)(n.code,{children:"@BeforeEach"})," when shared"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"useful-links",children:"Useful Links"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html",children:"Mockito Documentation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://javadoc.io/doc/org.mockito/mockito-junit-jupiter/latest/org/mockito/junit/jupiter/MockitoExtension.html",children:"Mockito JUnit 5 Extension"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);